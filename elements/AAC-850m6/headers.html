<script type="text/javascript" src="https://js.csvbox.io/script.js"></script>
<style>.csvbox-component{z-index:2147483647;}</style>
<script>    
    
  
  var IsCallbackdone = 0;     
    
  function callback(result, data) {     
      
      if(IsCallbackdone)
          {
              IsCallbackdone = 0;
              return;
          }
      else
          {
              const event_import_done = new CustomEvent("import_done", { detail: data });

              document.dispatchEvent(event_import_done);
              
              IsCallbackdone = 1;
              
          }     
      
    }  
   
     let importer = null;  
    
    function openModal(){
		if(importer !== null) importer.openModal();
    }
    
     function initializeImporter(slug, userobj, button) {
        importer = new CSVBoxImporter(slug, userobj, callback);
         importer.listen("onReady", function(){
             button.removeAttribute('disabled');
         });
       
    }    
     
    
</script>